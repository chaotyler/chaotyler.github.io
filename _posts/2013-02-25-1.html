---
layout: post
title: JavaScript知识点之“事件机制”
---
<p>
    操作发生时会触发相应的事件，创建一个事件对象，该对象包含了各种事件属性，然后事件以如下顺序进行处理：
</p>
<p>
    1. 捕获阶段：事件先发送到window，然后是document，接着是每一个目标元素的父元素，直到该目标元素。
</p>
<p>
    2. 定位阶段：事件发送到目标元素。
</p>
<p>
    3. 冒泡阶段：事件发送回每一个目标元素的父元素，直到window元素。
</p>
<p>
    <br />

</p>
<p>
    在XUL和HTML中，事件机制是一致的。
</p>
<p>
    <br />

</p>
<p>
    添加事件的两种方式：
</p>
<p>
    1. 写在元素的属性中，如：onclick=“...”。这种方式只能处理冒泡阶段的事件。
</p>
<p>
    2. 使用addEventListener：这种方式可以处理各个阶段的事件。
</p>
<p>
    <br />

</p>
<p>
    阻止事件传递：
</p>
<p>
    event.stopPropagation();可以用来阻止事件传递，由于事件捕获在冒泡之前，所以如果在事件捕获阶段使用了，那么就无法在冒泡阶段监听到事件了。
</p>
<p>
    <br />

</p>
<p>
    阻止默认事件：
</p>
<p>
    如果没有其他的事件监听，那么在捕获和冒泡完成后会触发默认的事件处理，event.preventDefault()可以用来阻止默认事件。
</p>
<p>
    <br />

</p>
<p>
    需要注意的是阻止默认事件并不会阻止冒泡，同样，阻止冒泡也不会阻止默认事件。
</p>
<p>
    阻止事件传递和阻止默认事件处理后，无法再解除阻止！
</p>